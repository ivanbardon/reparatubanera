---
const { useEffect, useState } = Astro;

const [consent, setConsent] = useState(null);

useEffect(() => {
  const storedConsent = localStorage.getItem('cookieConsent');
  if (storedConsent) {
    setConsent(storedConsent === 'true');
  }
}, []);

const handleAccept = () => {
  setConsent(true);
  localStorage.setItem('cookieConsent', 'true');
};

const handleReject = () => {
  setConsent(false);
  localStorage.setItem('cookieConsent', 'false');
};

return (
  <>
    {consent === null && (
      <div class="cookie-consent">
        <p>Este sitio utiliza cookies para mejorar la experiencia del usuario. Â¿Aceptas el uso de cookies?</p>
        <button onClick={handleAccept}>Aceptar</button>
        <button onClick={handleReject}>Rechazar</button>
      </div>
    )}
  </>
);

<style>
  .cookie-consent {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 1rem;
    text-align: center;
    z-index: 1000;
  }

  .cookie-consent button {
    margin: 0 0.5rem;
    padding: 0.5rem 1rem;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }

  .cookie-consent button:hover {
    background: rgba(255, 255, 255, 0.2);
  }
</style>
---